
.Basic configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Environment name
(`EnvironmentName`)|`**__Blank string__**`|Name of the GitLab environment (leave empty to use dynamically generated name). 
Environment name is used to generate unique resource names.
Multiple GitLab environments with different names can be deployed in the same region.
|SSH key pair name
(`KeyPairName`)|`**__Requires input__**`|Name of an existing public/private key pair, which allows you to securely connect to your instance after it launches. If the selection list is blank, you must create a keypair in the target region, refresh this form and select it.
|===
.VPC network configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|VPC ID
(`VPCID`)|`**__Requires input__**`|ID of your existing VPC (e.g., vpc-0343606e).|VPC CIDR
(`VPCCIDR`)|`**__Requires input__**`|CIDR block for the VPC.|Private subnet 1 ID
(`PrivateSubnet1ID`)|`**__Requires input__**`|ID of the private subnet in Availability Zone 1 of your existing VPC (e.g., subnet-fe9a8b32).|Private subnet 2 ID
(`PrivateSubnet2ID`)|`**__Requires input__**`|ID of the private subnet in Availability Zone 2 of your existing VPC (e.g., subnet-be8b01ea).|Private subnet 3 ID
(`PrivateSubnet3ID`)|`**__Requires input__**`|ID of the private subnet in Availability Zone 3 of your existing VPC (e.g., subnet-abd39039).|Public subnet 1 ID
(`PublicSubnet1ID`)|`**__Requires input__**`|ID of the public subnet in Availability Zone 1 of your existing VPC (e.g., subnet-a0246ccd).|Public subnet 2 ID
(`PublicSubnet2ID`)|`**__Requires input__**`|ID of the public subnet in Availability Zone 2 of your existing VPC (e.g., subnet-b1236eea).|Public subnet 3 ID
(`PublicSubnet3ID`)|`**__Requires input__**`|ID of the public subnet in Availability Zone 3 of your existing VPC (e.g., subnet-c3456aba).
|===
.Bastion host configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Provision a bastion host
(`ProvisionBastionHost`)|`Disabled`|Choose "Enabled" to provision a bastion host to access EKS cluster.
Bastion host includes kubectl and helm tools already configured for EKS cluster access.
Bastion host is recommended for EKS cluster management in production environments as a more secure option than a public EKS API endpoint.
Select a larger instance size to do performance testing from the bastion host using GitLab Performance Tool (gpt).
|Bastion host instance type
(`BastionInstanceType`)|`t3.micro`|Instance type for the bastion host.|Allowed bastion external access CIDR
(`RemoteAccessCIDR`)|`**__Requires input__**`|CIDR IP range that is permitted to access the bastions. We recommend that you set this value to a trusted IP range.
|===
.Amazon EKS cluster configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|EKS public access endpoint
(`EKSPublicAccessEndpoint`)|`Disabled`|Configure access to the Kubernetes API server endpoint from outside of your VPC.
Public API endpoint is not recommended for production environments. Use bastion host for cluster management instead.
|Additional EKS admin ARN (IAM user)
(`AdditionalEKSAdminUserArn`)|`**__Blank string__**`|(Optional) IAM user Amazon Resource Name (ARN) to be granted administrative access to the EKS cluster.|Additional EKS admin ARN (IAM role)
(`AdditionalEKSAdminRoleArn`)|`**__Blank string__**`|(Optional) IAM role Amazon Resource Name (ARN) to be granted administrative access to the EKS cluster.|EKS node instance type
(`NodeInstanceType`)|`t3.large`|EC2 instance type of EKS nodes.|EKS node volume capacity
(`NodeVolumeSize`)|`100`|Capacity of EBS volume used by EKS nodes, in Gb. 
Note that in default configuration no GitLab data is stored on EBS volumes. 
|Number of EKS nodes
(`NumberOfNodes`)|`3`|Number of Amazon EKS node instances. 
Should have a minimum value matching the number of Availability Zones configured for GitLab deployment.
|Maximum number of EKS nodes
(`MaxNumberOfNodes`)|`6`|Maximum number of Amazon EKS node instances. The default is three.|Configure Container Insights
(`ConfigureContainerInsights`)|`Yes`|Choose "No" to disable integration with CloudWatch Container Insights. 
Container insights ensure pod performance metrics and logs are collected to CloudWatch - including Gitlab application logs.
|Provision and integrate Grafana
(`ConfigureGrafana`)|`No`|Choose "Yes" to provision Grafana to EKS and enable GitLab integration with it.
|===
.Amazon Aurora Postgres configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|GitLab PostgreSQL version
(`DBEngineVersion`)|`12.4`|Select Database Engine Version.
The version must be supported by your target version of GitLab: https://docs.gitlab.com/omnibus/settings/database.html#gitlab-140-and-later
And by the Aurora RDS Instance type you choose: https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Concepts.DBInstanceClass.html
|GitLab database instance class
(`DBInstanceClass`)|`db.r5.large`|The name of the compute and memory capacity class of the database instance.
This Quickstart deploys Multi-AZ Postgres replicas in different Availability Zones.
The instance class is applied to both primary and standby instances.
The instance class you choose must support the needed PostgreSQL version: https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Concepts.DBInstanceClass.html
|GitLab database name
(`DBName`)|`gitlab`|Name of the GitLab Postgres database.|Praefect database name
(`DBPraefectName`)|`praefect`|Name of the Praefect Postgres database.|Database admin username
(`DBUserName`)|`gitlab`|The database admin account username.|Database port
(`DBPort`)|`5432`|The port the instance will listen for connections on.
|===
.GitLab cache configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Where to provision Redis
(`CacheMode`)|`External`|'BuiltIn' will install Redis in the EKS cluster while 'External' provisions Amazon ElastiCache Redis. 
GitLab Redis in Kubernetes clusters is not GitLab reference architecture compliant and only for training or testing setups.
|Number of cache replicas
(`CacheNodes`)|`2`|Provide the number of cache replicas (applicable for both BuiltIn and External cache modes).
For BuiltIn cache mode this is the number of replica Redis pods (in addition to primary pod).
For External mode this is the total number of nodes used for Redis.
This should match the number of Availability Zones you are configuring for.
|Cache node type
(`CacheNodeType`)|`cache.t3.medium`|If you chose to use External cache above, provide cache node type.
List of acceptable instance types: https://aws.amazon.com/elasticache/pricing/

|===
.GitLab infrastructure configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|GitLab DNS name
(`DomainName`)|`**__Requires input__**`|The domain name for the GitLab server.|Create Route 53 hosted zone
(`CreateHostedZone`)|`No`|Choose "Yes" if you want to create Amazon Route 53 to manage DNS for GitLab domain.|Request AWS Certificate Manager SSL certificate
(`CreateSslCertificate`)|`No`|Choose "Yes" if you want to request  AWS Certificate Manager SSL certificate for GitLab domain.
|===
.GitLab SMTP configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Outgoing SMTP domain
(`SMTPDomain`)|`Disabled`|Choose "CreateNew" if you want to create Amazon Simple Email Service domain to send out GitLab notification email messages.|SMTP server host name
(`SMTPHostName`)|`**__Blank string__**`|If you chose to use existing SMTP domain above, provide SMTP server host name.|SMTP server port
(`SMTPPort`)|`587`|If you chose to use existing SMTP domain above, provide SMTP server port.|SMTP server user name
(`SMTPUsername`)|`**__Blank string__**`|If you chose to use existing SMTP domain above, provide SMTP server username.|SMTP server password
(`SMTPPassword`)|`**__Blank string__**`|If you chose to use existing SMTP domain above, provide SMTP server password.
|===
.GitLab Helm chart configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Kubernetes namespace creation mode
(`HelmChartNamespaceCreate`)|`CreateNew`|Create new or use existing Kubernetes namespace for GitLab chart deployment.|Kubernetes namespace for GitLab Helm chart
(`HelmChartNamespace`)|`gitlab`|Kubernetes namespace to deploy GitLab chart to.|GitLab Helm chart name
(`HelmChartName`)|`gitlab`|Name of Helm GitLab deployment.|GitLab Helm chart version
(`HelmChartVersion`)|`4.12.3`|Version of GitLab Helm chart GitLab for deployment. See https://docs.gitlab.com/charts/installation/version_mappings.html.|GitLab application version
(`GitLabVersion`)|`13.12.3`|Version of GitLab application - must correspond to helm chart version above. See https://docs.gitlab.com/charts/installation/version_mappings.html.
|===
.GitLab Git repository storage configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Number of Gitaly replicas
(`NumberOfGitalyReplicas`)|`3`|Number of Gitaly replicas to deploy in GitLab cluster.
The replicas will be distributed across Availability Zones selected.
|Gitaly instance type
(`GitalyInstanceType`)|`t3.medium`|Gitaly EC2 instance type.
Select an instance from this list: https://aws.amazon.com/ec2/instance-types/
|Gitaly volume capacity
(`GitalyVolumeSize`)|`50`|Capacity of EBS volume used by Gitaly replicas (Git repository storage), in Gb. 
Note that this storage is used for Git repositories only. 
All other GitLab storage types are stored in S3 buckets.
|Number of Praefect replicas
(`NumberOfPraefectReplicas`)|`3`|Praefect coordinates Gitaly cluster replication. Number of Praefect replicas to deploy in GitLab cluster.
The replicas will be distributed across Availability Zones selected.
3 are required because Prafect replicas perform voting for data consistency and so an odd number are needed.
|Praefect instance type
(`PraefectInstanceType`)|`t3.medium`|Praefect EC2 instance type.
Select an instance from this list: https://aws.amazon.com/ec2/instance-types/

|===
.GitLab object storage configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Object storage encryption algorithm
(`ObjectStorageSSEAlgorithm`)|`AES256`|GitLab will be configured to use object storage for everything that is capable of using it (artifacts, packages, lfs, etc.).
Encryption algorithm for GitLab object storage artifacts.
|KMS key ID
(`ObjectStorageKMSKeyID`)|`none`|Provide KMS key ID to be used for encryption if KMS encryption is selected.|Object storage backup schedule
(`BackupSchedule`)|`0 1 * * *`|cron expression that is used to run GitLab backup jobs (default is daily at 1am).|Object storage backup volume capacity
(`BackupVolumeSize`)|`10`|Capacity of EBS volume used for GitLab backups, in Gb.
|===
.GitLab Runner configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Configure GitLab Runner
(`ConfigureRunner`)|`No`|Choose "Yes" to enable deployment of test GitLab Runner inside EKS cluster.|GitLab Runner Helm chart name
(`RunnerChartName`)|`runner`|Name of Helm GitLab Runner deployment.|GitLab Runner chart version
(`RunnerChartVersion`)|`0.27.0`|Version of GitLab Runner Helm chart for deployment.|Default runner image
(`RunnerImage`)|`ubuntu:20.04`|Default GitLab Runner image.|Max number of concurrent jobs
(`MaximumConcurrentJobs`)|`10`|The maximum number of concurrent jobs.|Use privileged mode
(`PrivilegedMode`)|`No`|Choose "Yes" to run all containers with the privileged flag enabled. 
This will allow the docker:dind image to run if you need to run Docker.
For test purposes only. Not recommended for production environments.

|===
.AWS Quick Start configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Quick Start S3 bucket name
(`QSS3BucketName`)|`aws-quickstart`|S3 bucket name for the Quick Start assets. This string can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).|Quick Start S3 key prefix
(`QSS3KeyPrefix`)|`quickstart-eks-gitlab/`|S3 key prefix for the Quick Start assets. Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/).|Quick Start S3 bucket region
(`QSS3BucketRegion`)|`us-east-1`|The AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted. When using your own bucket, you must specify this value.|Per-account shared resources
(`PerAccountSharedResources`)|`AutoDetect`|Choose "No" if you already deployed another EKS Quick Start stack in your AWS account.|Per-Region shared resources
(`PerRegionSharedResources`)|`AutoDetect`|Choose "No" if you already deployed another EKS Quick Start stack in your Region.
|===